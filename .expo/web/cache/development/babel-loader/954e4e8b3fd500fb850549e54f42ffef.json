{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\nrpu\\\\Desktop\\\\Mobile App development\\\\HistoryArchiveApp\\\\Pages\\\\homePage.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Header from \"./header\";\nimport TimeLine from \"./Components/timeline\";\nimport MiniArticle from \"./Components/miniArticle\";\nimport HeaderMenu from \"./Components/headerMenu\";\n\nvar Gap = function Gap() {\n  return React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 10\n    }\n  });\n};\n\nvar HomePage = function HomePage(props) {\n  var _useState = useState(\"2009\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      year = _useState2[0],\n      setYear = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      res = _useState4[0],\n      setRes = _useState4[1];\n\n  var Icons = function Icons() {\n    console.log(props.userType);\n\n    if (props.userType == 0 || props.userType == 1 || props.userType == 2) {\n      return React.createElement(HeaderMenu, {\n        navigation: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }\n      });\n    } else {\n      return React.createElement(Header, {\n        content: \"HomePage\",\n        navigation: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }\n      });\n    }\n  };\n\n  useEffect(function () {\n    fetch(\"https://historyarchiveapi.herokuapp.com/article/view\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        token: props.token,\n        filter: 0,\n        value: year\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      console.log(json.header[\"error\"]);\n\n      if (json.header[\"error\"] != 0) {\n        setRes(null);\n      } else {\n        setRes(json.body);\n        console.log(json.body[0]);\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }, [year]);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, React.createElement(Icons, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: {\n      height: \"92%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    showsVerticalScrollIndicator: false,\n    keyExtractor: function keyExtractor(res) {\n      return res._id.toString();\n    },\n    style: styles.scroll,\n    data: res,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1\n        },\n        activeOpacity: 1,\n        onPress: function onPress() {\n          return props.navigation.navigate(\"ViewArticle\");\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 23\n        }\n      }, React.createElement(MiniArticle, {\n        article: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  })), React.createElement(TouchableOpacity, {\n    activeOpacity: 0.5,\n    style: styles.plusButtonImg,\n    onPress: function onPress() {\n      return props.navigation.navigate(\"CreateNewArticle\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: require(\"../images/plusButton.png\"),\n    style: styles.img,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: \"#5C3B28\",\n    width: \"100%\",\n    height: \"100%\"\n  },\n  scroll: {\n    width: \"90%\",\n    alignSelf: \"center\",\n    marginBottom: 50,\n    marginTop: 10\n  },\n  plusButtonImg: {\n    position: \"absolute\",\n    bottom: 30,\n    right: \"-7%\",\n    resizeMode: \"contain\",\n    height: 60\n  },\n  img: {\n    height: 60,\n    resizeMode: \"contain\"\n  }\n});\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/nrpu/Desktop/Mobile App development/HistoryArchiveApp/Pages/homePage.js"],"names":["React","useState","useEffect","Header","TimeLine","MiniArticle","HeaderMenu","Gap","height","HomePage","props","year","setYear","res","setRes","Icons","console","log","userType","fetch","method","body","JSON","stringify","token","filter","value","headers","then","response","json","header","catch","error","styles","container","_id","toString","scroll","item","flex","navigation","navigate","plusButtonImg","require","img","StyleSheet","create","backgroundColor","width","alignSelf","marginBottom","marginTop","position","bottom","right","resizeMode"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;;AAIA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,OAAOC,WAAP;AACA,OAAOC,UAAP;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AAChB,SAAO,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAFD;;AAIA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA,kBACAT,QAAQ,CAAC,MAAD,CADR;AAAA;AAAA,MACjBU,IADiB;AAAA,MACXC,OADW;;AAAA,mBAEFX,QAAQ,CAAC,IAAD,CAFN;AAAA;AAAA,MAEjBY,GAFiB;AAAA,MAEZC,MAFY;;AAIxB,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACQ,QAAlB;;AACA,QAAGR,KAAK,CAACQ,QAAN,IAAkB,CAAlB,IAAuBR,KAAK,CAACQ,QAAN,IAAkB,CAAzC,IAA8CR,KAAK,CAACQ,QAAN,IAAkB,CAAnE,EAAqE;AACnE,aACE,oBAAC,UAAD;AAAY,QAAA,UAAU,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAKD,KAND,MAMK;AACH,aACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,UAAhB;AAA2B,QAAA,UAAU,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AACF,GAbD;;AAeAhB,EAAAA,SAAS,CAAC,YAAM;AACZiB,IAAAA,KAAK,CAAC,sDAAD,EAAyD;AAC1DC,MAAAA,MAAM,EAAE,MADkD;AAE1DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAACd,KAAK,CAACc,KADO;AAGjBC,QAAAA,MAAM,EAAE,CAHS;AAIjBC,QAAAA,KAAK,EAAEf;AAJU,OAAf,CAFoD;AAQ1DgB,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AARiD,KAAzD,CAAL,CAYKC,IAZL,CAYU,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KAZV,EAaKF,IAbL,CAaU,UAACE,IAAD,EAAU;AACZd,MAAAA,OAAO,CAACC,GAAR,CAAYa,IAAI,CAACC,MAAL,CAAY,OAAZ,CAAZ;;AACA,UAAID,IAAI,CAACC,MAAL,CAAY,OAAZ,KAAwB,CAA5B,EAA+B;AAC3BjB,QAAAA,MAAM,CAAC,IAAD,CAAN;AACH,OAFD,MAEO;AACHA,QAAAA,MAAM,CAACgB,IAAI,CAACT,IAAN,CAAN;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAYa,IAAI,CAACT,IAAL,CAAU,CAAV,CAAZ;AACH;AACJ,KArBL,EAsBKW,KAtBL,CAsBW,UAACC,KAAD,EAAW;AACdjB,MAAAA,OAAO,CAACiB,KAAR,CAAcA,KAAd;AACH,KAxBL;AAyBH,GA1BQ,EA0BN,CAACtB,IAAD,CA1BM,CAAT;AA4BA,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEuB,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAC3B,MAAAA,MAAM,EAAC;AAAR,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,QAAD;AAAU,IAAA,4BAA4B,EAAE,KAAxC;AACI,IAAA,YAAY,EAAE,sBAACK,GAAD;AAAA,aAASA,GAAG,CAACuB,GAAJ,CAAQC,QAAR,EAAT;AAAA,KADlB;AAEI,IAAA,KAAK,EAAEH,MAAM,CAACI,MAFlB;AAGI,IAAA,IAAI,EAAEzB,GAHV;AAII,IAAA,UAAU,EAAE,0BAAc;AAAA,UAAX0B,IAAW,QAAXA,IAAW;AACtB,aACE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAE;AAACC,UAAAA,IAAI,EAAC;AAAN,SAAzB;AAAmC,QAAA,aAAa,EAAE,CAAlD;AAAqD,QAAA,OAAO,EAAE;AAAA,iBAAM9B,KAAK,CAAC+B,UAAN,CAAiBC,QAAjB,CAA0B,aAA1B,CAAN;AAAA,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAa,QAAA,OAAO,EAAEH,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKH,KAVL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAFJ,EAiBI,oBAAC,gBAAD;AAAkB,IAAA,aAAa,EAAE,GAAjC;AAAsC,IAAA,KAAK,EAAEL,MAAM,CAACS,aAApD;AAAmE,IAAA,OAAO,EAAE;AAAA,aAAMjC,KAAK,CAAC+B,UAAN,CAAiBC,QAAjB,CAA0B,kBAA1B,CAAN;AAAA,KAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEE,OAAO,4BAAtB;AAAoD,IAAA,KAAK,EAAEV,MAAM,CAACW,GAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAjBJ,CADJ;AAuBH,CAtED;;AAwEA,IAAMX,MAAM,GAAGY,UAAU,CAACC,MAAX,CAAkB;AAC7BZ,EAAAA,SAAS,EAAE;AACPa,IAAAA,eAAe,EAAE,SADV;AAEPC,IAAAA,KAAK,EAAE,MAFA;AAGPzC,IAAAA,MAAM,EAAE;AAHD,GADkB;AAM7B8B,EAAAA,MAAM,EAAE;AACJW,IAAAA,KAAK,EAAE,KADH;AAEJC,IAAAA,SAAS,EAAE,QAFP;AAGJC,IAAAA,YAAY,EAAE,EAHV;AAIJC,IAAAA,SAAS,EAAE;AAJP,GANqB;AAY7BT,EAAAA,aAAa,EAAE;AACXU,IAAAA,QAAQ,EAAE,UADC;AAEXC,IAAAA,MAAM,EAAE,EAFG;AAGXC,IAAAA,KAAK,EAAE,KAHI;AAIXC,IAAAA,UAAU,EAAE,SAJD;AAKXhD,IAAAA,MAAM,EAAE;AALG,GAZc;AAmB7BqC,EAAAA,GAAG,EAAC;AACFrC,IAAAA,MAAM,EAAC,EADL;AAEFgD,IAAAA,UAAU,EAAC;AAFT;AAnByB,CAAlB,CAAf;AAyBA,eAAe/C,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { StyleSheet, ScrollView, Image, TouchableOpacity, Text, View, FlatList } from \"react-native\";\r\n\r\n// importing component\r\nimport Header from \"./header\";\r\nimport TimeLine from \"./Components/timeline\";\r\nimport MiniArticle from \"./Components/miniArticle\";\r\nimport HeaderMenu from \"./Components/headerMenu\"\r\n\r\nconst Gap = () => {\r\n  return <View style={{ height: 20 }}></View>;\r\n};\r\n\r\nconst HomePage = (props) => {\r\n    const [year, setYear] = useState(\"2009\");\r\n    const [res, setRes] = useState(null);\r\n\r\n    const Icons = () => {\r\n      console.log(props.userType)\r\n      if(props.userType == 0 || props.userType == 1 || props.userType == 2){\r\n        return (\r\n          <HeaderMenu navigation />\r\n          \r\n        )\r\n\r\n      }else{\r\n        return(\r\n          <Header content=\"HomePage\" navigation/>\r\n        )\r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://historyarchiveapi.herokuapp.com/article/view\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n              token:props.token,\r\n                // token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwYmIyMmY4NzJhMWEwMDAxNTM1Y2NiNyIsInVzZXJuYW1lIjoibWFsaWFsYW0iLCJpYXQiOjE2MjI5MDAwMTR9.IoMDAFoQIsVZsNuDsWMQpMbChXw1Q6Guh_lLdamIUX0\",\r\n                filter: 0,\r\n                value: year,\r\n            }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((json) => {\r\n                console.log(json.header[\"error\"]);\r\n                if (json.header[\"error\"] != 0) {\r\n                    setRes(null);\r\n                } else {\r\n                    setRes(json.body);\r\n                    console.log(json.body[0]);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }, [year]);\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <Icons/>\r\n            <View style={{height:\"92%\"}} >\r\n            <FlatList showsVerticalScrollIndicator={false}\r\n                keyExtractor={(res) => res._id.toString()}\r\n                style={styles.scroll}\r\n                data={res}\r\n                renderItem={({ item }) => {\r\n                    return (\r\n                      <TouchableOpacity style={{flex:1}} activeOpacity={1} onPress={() => props.navigation.navigate(\"ViewArticle\")} >\r\n                        <MiniArticle article={item}/>\r\n                      </TouchableOpacity>\r\n                      );\r\n                }}\r\n            />\r\n            </View>\r\n\r\n            <TouchableOpacity activeOpacity={0.5} style={styles.plusButtonImg} onPress={() => props.navigation.navigate(\"CreateNewArticle\")}>\r\n                <Image source={require(\"../images/plusButton.png\")} style={styles.img} />\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        backgroundColor: \"#5C3B28\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n    },\r\n    scroll: {\r\n        width: \"90%\",\r\n        alignSelf: \"center\",\r\n        marginBottom: 50,\r\n        marginTop: 10,\r\n    },\r\n    plusButtonImg: {\r\n        position: \"absolute\",\r\n        bottom: 30,\r\n        right: \"-7%\",\r\n        resizeMode: \"contain\",\r\n        height: 60,\r\n    },\r\n    img:{\r\n      height:60,\r\n      resizeMode:\"contain\",\r\n    }\r\n});\r\n\r\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}